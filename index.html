<!DOCTYPE HTML>
<html>

<head>
  <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
  <!-- <script type="text/javascript" src="js/part1.js"></script> -->
</head>

<style>
  .graph {
    margin-bottom: 200px;
  }
</style>

<body>

  <div id="viz1" class="graph"></div>
  <div id="viz2" class="graph"></div>

  <script>

  var makeSquares = function(csv, width, height)

  var allFilms = function() {

    var svg = d3.select("#viz1")
    .append("svg")
    .attr("width", width)
    .attr("height", height);

    d3.csv("csv/all_films.csv", function(data) {
      //console.log(data);
      dataset = data;

      var numberFilms = dataset.length;
      //console.log(numberFilms);

      var scale = d3.scale.linear()
      .domain([0, numberFilms])
      .range([50, width]);

      svg.selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("height", squareSize)
      .attr("width", squareSize)
      .attr("fill", "purple")
      .attr("stroke", "white")
      .attr("y", 300)
      .attr("x", function(d, i) {
        return scale(i);
      })
      .attr("transform", "translate(" + padding + ")")
      .on("mouseover", function(d) {
        var x = d3.select(this).attr("x") + (squareSize / 2);
        var y = d3.select(this).attr("y") * 1.1;
        //console.log(x);
        //console.log(y);

        svg.append("text")
        .attr("id", "tooltip")
        .attr("x", x)
        .attr("y", y)
        .attr("text-anchor", "middle")
        .attr("font-family", "sans-serif")
        .attr("font-size", "12px")
        .text(d.title);
      })
      .on("mouseout", function(d) {
        d3.select("#tooltip").remove();
      });
    });
  };

  var missingParentsFilms = function() {

  }

  allFilms();

  </script>
